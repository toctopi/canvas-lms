(function(){function a(a,b){var c=document.getElementById(a);c&&(b=b||"",c.nodeName=="SELECT"?selectByValue(document.forms[0],a,b):c.type=="checkbox"?c.checked=!!b:c.value=b)}function b(a){var b=document.getElementById(a);return b.nodeName=="SELECT"?b.options[b.selectedIndex].value:b.type=="checkbox"?b.checked:b.value}function c(){var b=document.forms[0],c,h,i,j=tinyMCEPopup.editor;i=j.getParam("fullpage_doctypes",d).split(",");for(c=0;c<i.length;c++)h=i[c].split("="),h.length>1&&addSelectValue(b,"doctype",h[0],h[1]);i=j.getParam("fullpage_fonts",f).split(";");for(c=0;c<i.length;c++)h=i[c].split("="),h.length>1&&addSelectValue(b,"fontface",h[0],h[1]);i=j.getParam("fullpage_fontsizes",g).split(",");for(c=0;c<i.length;c++)addSelectValue(b,"fontsize",i[c],i[c]);i=j.getParam("fullpage_encodings",e).split(",");for(c=0;c<i.length;c++)h=i[c].split("="),h.length>1&&addSelectValue(b,"docencoding",h[0],h[1]);document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor"),document.getElementById("link_color_pickcontainer").innerHTML=getColorPickerHTML("link_color_pick","link_color"),document.getElementById("visited_color_pickcontainer").innerHTML=getColorPickerHTML("visited_color_pick","visited_color"),document.getElementById("active_color_pickcontainer").innerHTML=getColorPickerHTML("active_color_pick","active_color"),document.getElementById("textcolor_pickcontainer").innerHTML=getColorPickerHTML("textcolor_pick","textcolor"),document.getElementById("stylesheet_browsercontainer").innerHTML=getBrowserHTML("stylesheetbrowser","stylesheet","file","fullpage"),document.getElementById("bgimage_pickcontainer").innerHTML=getBrowserHTML("bgimage_browser","bgimage","image","fullpage"),isVisible("stylesheetbrowser")&&(document.getElementById("stylesheet").style.width="220px"),isVisible("link_href_browser")&&(document.getElementById("element_link_href").style.width="230px"),isVisible("bgimage_browser")&&(document.getElementById("bgimage").style.width="210px"),tinymce.each(tinyMCEPopup.getWindowArg("data"),function(b,c){a(c,b)}),FullPageDialog.changedStyle(),updateColor("textcolor_pick","textcolor"),updateColor("bgcolor_pick","bgcolor"),updateColor("visited_color_pick","visited_color"),updateColor("active_color_pick","active_color"),updateColor("link_color_pick","link_color")}tinyMCEPopup.requireLangPack();var d='XHTML 1.0 Transitional=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">,XHTML 1.0 Frameset=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">,XHTML 1.0 Strict=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">,XHTML 1.1=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">,HTML 4.01 Transitional=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">,HTML 4.01 Strict=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">,HTML 4.01 Frameset=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">',e="Western european (iso-8859-1)=iso-8859-1,Central European (iso-8859-2)=iso-8859-2,Unicode (UTF-8)=utf-8,Chinese traditional (Big5)=big5,Cyrillic (iso-8859-5)=iso-8859-5,Japanese (iso-2022-jp)=iso-2022-jp,Greek (iso-8859-7)=iso-8859-7,Korean (iso-2022-kr)=iso-2022-kr,ASCII (us-ascii)=us-ascii",f="Arial=arial,helvetica,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,times new roman,times,serif;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times,serif;Verdana=verdana,arial,helvetica,sans-serif;Impact=impact;WingDings=wingdings",g="10px,11px,12px,13px,14px,15px,16px";window.FullPageDialog={changedStyle:function(){var c,d=tinyMCEPopup.editor.dom.parseStyle(b("style"));a("fontface",d["font-face"]),a("fontsize",d["font-size"]),a("textcolor",d.color),(c=d["background-image"])?a("bgimage",c.replace(new RegExp("url\\('?([^']*)'?\\)","gi"),"$1")):a("bgimage",""),a("bgcolor",d["background-color"]),a("topmargin",""),a("rightmargin",""),a("bottommargin",""),a("leftmargin","");if(c=d.margin)c=c.split(" "),d["margin-top"]=c[0]||"",d["margin-right"]=c[1]||c[0]||"",d["margin-bottom"]=c[2]||c[0]||"",d["margin-left"]=c[3]||c[0]||"";(c=d["margin-top"])&&a("topmargin",c.replace(/px/,"")),(c=d["margin-right"])&&a("rightmargin",c.replace(/px/,"")),(c=d["margin-bottom"])&&a("bottommargin",c.replace(/px/,"")),(c=d["margin-left"])&&a("leftmargin",c.replace(/px/,"")),updateColor("bgcolor_pick","bgcolor"),updateColor("textcolor_pick","textcolor")},changedStyleProp:function(){var c,d=tinyMCEPopup.editor.dom,e=d.parseStyle(b("style"));e["font-face"]=b("fontface"),e["font-size"]=b("fontsize"),e.color=b("textcolor"),e["background-color"]=b("bgcolor"),(c=b("bgimage"))?e["background-image"]="url('"+c+"')":e["background-image"]="",delete e.margin,(c=b("topmargin"))?e["margin-top"]=c+"px":e["margin-top"]="",(c=b("rightmargin"))?e["margin-right"]=c+"px":e["margin-right"]="",(c=b("bottommargin"))?e["margin-bottom"]=c+"px":e["margin-bottom"]="",(c=b("leftmargin"))?e["margin-left"]=c+"px":e["margin-left"]="",a("style",d.serializeStyle(d.parseStyle(d.serializeStyle(e)))),this.changedStyle()},update:function(){var a={};tinymce.each(tinyMCEPopup.dom.select("select,input,textarea"),function(c){a[c.id]=b(c.id)}),tinyMCEPopup.editor.plugins.fullpage._dataToHtml(a),tinyMCEPopup.close()}},tinyMCEPopup.onInit.add(c)})()