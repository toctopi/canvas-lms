define(["jquery","vendor/jquery.scrollTo"],function(a){a.fn.scrollToVisible=function(b){var c={},d=a(b),e=a("body").offset();this.each(function(){try{return e=a(this).offset(),!1}catch(b){}});if(d.length===0)return;var f=d.offset(),g=d.outerWidth(),h=d.outerHeight(),i=f.top-e.top,j=i+h,k=f.left-e.left,l=k+g,m=this.selector=="html,body"?a.windowScrollTop():this.scrollTop(),n=this.scrollLeft(),o=this.outerHeight(),p=this.outerWidth();if(this[0].tagName=="HTML"||this[0].tagName=="BODY")o=a(window).height(),a("#wizard_box:visible").length>0&&(o-=a("#wizard_box:visible").height()),p=a(window).width(),i-=m,k-=n,j-=m,l-=n;return i<0||o<h&&j>o?c.scrollTop=i+m:j>o&&(c.scrollTop=j+m-o+20),k<0?c.scrollLeft=k+n:l>p&&(c.scrollLeft=l+n-p+20),c.scrollTop==1&&(c.scrollTop=0),c.scrollLeft==1&&(c.scrollLeft=0),this.scrollTop(c.scrollTop),this.scrollLeft(c.scrollLeft),this}})