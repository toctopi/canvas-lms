define(["INST","i18n!scribd"],function(a,b){if(typeof c=="undefined"){var c=new Object;c.Document=function(){this.__params=[],this.__callQueue=[],this.__listenerLookup={};if(arguments.length==2)return this.document_id=arguments[0],this.access_key=arguments[1],this;if(c.Document.caller!=c.Document.getDoc&&c.Document.caller!=c.Document.getDocFromUrl&&c.Document.caller!=c.Document.getDocFromUrlForExtension&&c.Document.caller!=undefined)throw new Error("There is no public constructor for scribd.Document.")},c.Document.getDoc=function(a,b){return scribd_doc=new c.Document,scribd_doc.document_id=a,scribd_doc.access_key=b,scribd_doc},c.Document.getDocFromUrl=function(a,b){return scribd_doc=new c.Document,scribd_doc.url=a,scribd_doc.publisher_id=b,scribd_doc},c.Document.getDocFromUrlForExtension=function(a,b){return scribd_doc=new c.Document,scribd_doc.url=a,scribd_doc.extension_id=b,scribd_doc.addParam("should_redirect",!0),scribd_doc},c.Document.prototype={__handleEvent:function(a){var b=this.__listenerLookup[a]||[];for(var c=0;c<b.length;c++)b[c]()},__addRoutedListener:function(a,b){if(this.__listenerExists(a,b))return;this.__listenerLookup[a]?this.__listenerLookup[a].push(b):this.__listenerLookup[a]=new Array(b)},__removeRoutedListener:function(a,b){var c=this.__listenerLookup[a];for(var d=0;d<c.length;d++)c[d]==b&&c.splice(d,1)},__listenerExists:function(a,b){var c=this.__listenerLookup[a]||[];for(var d=0;d<c.length;d++)if(c[d]==b)return!0;return!1},addEventListener:function(a,b,c){this.api?window.addEventListener?this.api.parentNode.addEventListener(a,b,!1):this.__addRoutedListener(a,b):this.__callQueue.push(["addEventListener",a,b,!1])},removeEventListener:function(a,b){this.api?window.addEventListener?this.api.removeEventListener(a,b,!1):this.__removeRoutedListener(a,b):this.__callQueue.push(["removeEventListener",a,b])},getElement:function(){return document.getElementsByName(this.__embedName)[0]},addParam:function(a,b){this.__params[a]=b},grantAccess:function(a,b,c){this.__params.user_identifier=a,this.__params.secure_session_id=b,this.__params.signature=c},write:function(a){var c=document.getElementById(a);quickswitch=this.__params["quickswitch"]==1;if(quickswitch){var d=document.createElement("div");d.style.width="100%",d.style.height="100%",document.body.appendChild(d)}var e=c.offsetWidth,f="",g="";this.__params.width&&this.__params["width"]!="parent"&&(e=this.__params.width),this.__params.mode&&(f=this.__params.mode,g+="&viewMode="+escape(this.__params.mode));if(this.__params["height"]!="parent"){var h=Math.round(e*11/8.5);f=="slideshow"&&(h=35+Math.round(e*3/4));var j=window.innerHeight!=null?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body!=null?document.body.clientHeight:0;j-=25,h<200&&(h=200),h>j&&(h=j);var k=h+"px"}else var k="100%";var m="100%",n=a+"_embed"+Math.round(Math.random()*9e9);this.__embedName=n;var o="ScribdViewer";this.__params["auto_size"]!=1&&(g+="&auto_size=false"),this.__params.height&&this.__params["height"]!="parent"&&(k=this.__params.height+"px"),this.__params.width&&this.__params["width"]!="parent"&&(m=this.__params.width+"px"),this.__params.swf_name&&(o=this.__params.swf_name),this.__params.disable_related_docs&&(g+="&disable_related_docs="+this.__params.disable_related_docs),this.__params.page&&(g+="&page="+this.__params.page),this.__params.extension&&(g+="&extension="+this.__params.extension),this.__params.title&&(g+="&title="+escape(this.__params.title)),this.__params.my_user_id&&(g+="&my_user_id="+this.__params.my_user_id),this.__params.api_url&&(g+="&api_url="+this.__params.api_url),this.__params.doctype&&(g+="&doctype="+this.__params.doctype),this.__params.current_user_id&&(g+="&current_user_id="+this.__params.current_user_id),this.__params.search_query&&(g+="&search_query="+escape(this.__params.search_query)),this.__params.search_keywords&&(g+="&search_keywords="+escape(this.__params.search_keywords)),this.__params["transferCookie"]==1&&(g+="&cookie="+escape(document.cookie)),this.__params.should_redirect&&(g+="&should_redirect="+this.__params.should_redirect),this.__params.secret_password&&(g+="&secret_password="+this.__params.secret_password),this.__params["public"]==1?g+="&privacy=0":g+="&privacy=1",this.__params.user_identifier&&(g+="&user_identifier="+escape(this.__params.user_identifier)),this.__params.secure_session_id&&(g+="&secure_session_id="+escape(this.__params.secure_session_id)),this.__params.signature&&(g+="&signature="+this.__params.signature),this.__params.docinfo&&(g+="&docinfo="+encodeURIComponent(this.__params.docinfo)),this.__params.useIntegratedUi&&(g+="&useIntegratedUi="+this.__params.useIntegratedUi),this.document_id&&(g+="&document_id="+this.document_id),this.access_key&&(g+="&access_key="+this.access_key),this.extension_id&&(g+="&extension_id="+this.extension_id),this.url&&(g+="&url="+escape(this.url)),this.publisher_id&&(g+="&publisher_id="+escape(this.publisher_id));var p="http://d1.scribdassets.com/",q="http://";this.__params["use_ssl"]==1&&(p="https://s3.amazonaws.com/documents.scribd.com/",g+="&use_ssl=true",q="https://"),this.__params.src_path&&(p=this.__params.src_path),this.__params.hide_sample_banner&&(g+="&hide_sample_banner="+this.__params.hide_sample_banner),this.__params["disable_resume_reading"]==1&&(g+="&disable_resume_reading=true"),this.__params["hide_full_screen_button"]==1&&(g+="&hide_full_screen_button=true"),this.__params["hide_disabled_buttons"]==1&&(g+="&hide_disabled_buttons=true"),this.__params.full_screen_type&&(g+="&full_screen_type="+this.__params.full_screen_type),this.__params.custom_logo_image_url&&(g+="&custom_logo_image_url="+escape(this.__params.custom_logo_image_url)),this.__params.custom_logo_click_url&&(g+="&custom_logo_click_url="+escape(this.__params.custom_logo_click_url));var r=l("codebase",q+"download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0","width",m,"height",k,"flashvars",g,"src",p+o,"quality","high","pluginspage",q+"www.macromedia.com/go/getflashplayer","align","middle","play","true","loop","true","scale","showall","wmode","opaque","devicefont","false","id",n,"bgcolor","#ffffff","name",n,"menu","true","allowFullScreen","true","allowScriptAccess","always","movie",p+o,"salign",""),s=i(9,0,0);s||(r='<span style="display:block;font-size:16px;width:300px;border:1px solid #dddddd;padding:3px">'+b.t("upgrade_flash","Hello, you have an old version of Adobe Flash Player. To use iPaper (and lots of other stuff on the web) you need to %{link_tag}get the latest Flash player%{end_link}.",{link_tag:'<a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash">',end_link:"</a>"})+"  </span>");if(quickswitch){d.innerHTML=r;if(c.hasChildNodes())while(c.childNodes.length>=1)c.removeChild(c.firstChild);c.appendChild(d)}else c.innerHTML=r;var t=this;window["_scribd_event_handler_"+n]=function(a){t.__handleEvent(a)};var u=function(a){var a=a||{},b=a.srcElement||document.getElementsByName(n)[0];if(b.getAttribute("name")==n){t.api=b;var c,d,e,f=[];for(var c=0;c<t.__callQueue.length;c++)e=t.__callQueue[c],e[0]=="addEventListener"?(d=e.shift(),t[d].apply(t,e)):f.push(e);t.__callQueue=f}},v=function(a){var a=a||{},b=a.srcElement||document.getElementsByName(n)[0];if(b.getAttribute("name")==n){t.onReady&&t.onReady();var c,d,e,f=[];for(c=0;c<t.__callQueue.length;c++)e=t.__callQueue.pop(),e[0]!="addEventListener"?(d=e.shift(),typeof d!="function"&&alert(typeof d),t[d].apply(t,e)):f.push(e);t.__callQueue=f}};window.addEventListener?(window.addEventListener("iPaperReady",v,!0),window.addEventListener("setupJsApi",u,!0)):(this.__addRoutedListener("iPaperReady",v),this.__addRoutedListener("setupJsApi",u))}};var d=navigator.appVersion.indexOf("MSIE")!=-1?!0:!1,e=navigator.appVersion.toLowerCase().indexOf("win")!=-1?!0:!1,f=navigator.userAgent.indexOf("Opera")!=-1?!0:!1;function g(){var a,b,c;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),a=b.GetVariable("$version")}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),a="WIN 6,0,21,0",b.AllowScriptAccess="always",a=b.GetVariable("$version")}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a=b.GetVariable("$version")}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a="WIN 3,0,18,0"}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a="WIN 2,0,0,11"}catch(c){a=-1}return a}function h(){var a=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var b=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",c=navigator.plugins["Shockwave Flash"+b].description,h=c.split(" "),i=h[2].split("."),j=i[0],k=i[1],l=h[3];l==""&&(l=h[4]),l[0]=="d"?l=l.substring(1):l[0]=="r"&&(l=l.substring(1),l.indexOf("d")>0&&(l=l.substring(0,l.indexOf("d"))));var a=j+"."+k+"."+l}}else navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1?a=4:navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1?a=3:navigator.userAgent.toLowerCase().indexOf("webtv")!=-1?a=2:d&&e&&!f&&(a=g());return a}function i(a,b,c){versionStr=h();if(versionStr==-1)return!1;if(versionStr!=0){d&&e&&!f?(tempArray=versionStr.split(" "),tempString=tempArray[1],versionArray=tempString.split(",")):versionArray=versionStr.split(".");var g=versionArray[0],i=versionArray[1],j=versionArray[2];if(g>parseFloat(a))return!0;if(g==parseFloat(a)){if(i>parseFloat(b))return!0;if(i==parseFloat(b)&&j>=parseFloat(c))return!0}return!1}}function j(a,b){return a.indexOf("?")!=-1?a.replace(/\?/,b+"?"):a+b}function k(a,b,c){var g="";if(d&&e&&!f){g+="<object ";for(var h in a)g+=h+'="'+a[h]+'" ';g+=">";for(var h in b)g+='<param name="'+h+'" value="'+b[h]+'" /> ';g+="</object>"}else{g+="<embed ";for(var h in c)g+=h+'="'+c[h]+'" ';g+="> </embed>"}return g}function l(){var a=n(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");return k(a.objAttrs,a.params,a.embedAttrs)}function m(){var a=n(arguments,".dcr","src","clsid:166B1BCA-3F9C-11CF-8075-444553540000",null);return k(a.objAttrs,a.params,a.embedAttrs)}function n(a,b,c,d,e){var f=new Object;f.embedAttrs=new Object,f.params=new Object,f.objAttrs=new Object;for(var g=0;g<a.length;g+=2){var h=a[g].toLowerCase();switch(h){case"classid":break;case"pluginspage":f.embedAttrs[a[g]]=a[g+1];break;case"src":case"movie":a[g+1]=j(a[g+1],b),f.embedAttrs.src=a[g+1],f.params[c]=a[g+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblclick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":case"id":f.objAttrs[a[g]]=a[g+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":f.embedAttrs[a[g]]=f.objAttrs[a[g]]=a[g+1];break;default:f.embedAttrs[a[g]]=f.params[a[g]]=a[g+1]}}return f.objAttrs.classid=d,e&&(f.embedAttrs.type=e),f}typeof scribd_view_callback!="undefined"&&scribd_view_callback()}return c})