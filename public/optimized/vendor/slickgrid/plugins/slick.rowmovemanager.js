(function(a){function b(){function b(a){h=a,i=h.getCanvasNode(),h.onDragInit.subscribe(d),h.onDragStart.subscribe(e),h.onDrag.subscribe(f),h.onDragEnd.subscribe(g)}function c(){h.onDragInit.unsubscribe(d),h.onDragStart.unsubscribe(e),h.onDrag.unsubscribe(f),h.onDragEnd.unsubscribe(g)}function d(a,b){a.stopImmediatePropagation()}function e(b,c){var d=h.getCellFromEvent(b);if(h.getEditorLock().isActive()||!/move|selectAndMove/.test(h.getColumns()[d.cell].behavior))return!1;j=!0,b.stopImmediatePropagation();var e=h.getSelectedRows();if(e.length==0||a.inArray(d.row,e)==-1)e=[d.row],h.setSelectedRows(e);var f=h.getOptions().rowHeight;return c.selectedRows=e,c.selectionProxy=a("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",a(i).innerWidth()).css("height",f*e.length).appendTo(i),c.guide=a("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",a(i).innerWidth()).css("top",-1e3).appendTo(i),c.insertBefore=-1,a("<div></div>").appendTo(i)}function f(b,c){if(!j)return;b.stopImmediatePropagation();var d=b.pageY-a(i).offset().top;c.selectionProxy.css("top",d-5);var e=Math.max(0,Math.min(Math.round(d/h.getOptions().rowHeight),h.getDataLength()));if(e!==c.insertBefore){var f={rows:c.selectedRows,insertBefore:e};k.onBeforeMoveRows.notify(f)===!1?(c.guide.css("top",-1e3),c.canMove=!1):(c.guide.css("top",e*h.getOptions().rowHeight),c.canMove=!0),c.insertBefore=e}}function g(a,b){if(!j)return;j=!1,a.stopImmediatePropagation(),b.guide.remove(),b.selectionProxy.remove();if(b.canMove){var c={rows:b.selectedRows,insertBefore:b.insertBefore};k.onMoveRows.notify(c)}}var h,i,j,k=this;a.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:b,destroy:c})}a.extend(!0,window,{Slick:{RowMoveManager:b}})})(jQuery)