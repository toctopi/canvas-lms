(function(a){function b(b){function c(a){j=a,j.onSelectedRowsChanged.subscribe(e),j.onClick.subscribe(f),j.onHeaderClick.subscribe(g)}function d(){j.onSelectedRowsChanged.unsubscribe(e),j.onClick.unsubscribe(f),j.onHeaderClick.unsubscribe(g)}function e(a,b){var c=j.getSelectedRows(),d={},e,f;for(f=0;f<c.length;f++)e=c[f],d[e]=!0,d[e]!==l[e]&&(j.invalidateRow(e),delete l[e]);for(f in l)j.invalidateRow(f);l=d,j.render(),c.length==j.getDataLength()?j.updateColumnHeader(n.columnId,"<input type='checkbox' checked='checked'>",n.toolTip):j.updateColumnHeader(n.columnId,"<input type='checkbox'>",n.toolTip)}function f(b,c){if(j.getColumns()[c.cell].id===n.columnId&&a(b.target).is(":checkbox")){if(j.getEditorLock().isActive()&&!j.getEditorLock().commitCurrentEdit()){b.preventDefault(),b.stopImmediatePropagation();return}l[c.row]?j.setSelectedRows(a.grep(j.getSelectedRows(),function(a){return a!=c.row})):j.setSelectedRows(j.getSelectedRows().concat(c.row)),b.stopPropagation(),b.stopImmediatePropagation()}}function g(b,c){if(c.column.id==n.columnId&&a(b.target).is(":checkbox")){if(j.getEditorLock().isActive()&&!j.getEditorLock().commitCurrentEdit()){b.preventDefault(),b.stopImmediatePropagation();return}if(a(b.target).is(":checked")){var d=[];for(var e=0;e<j.getDataLength();e++)d.push(e);j.setSelectedRows(d)}else j.setSelectedRows([]);b.stopPropagation(),b.stopImmediatePropagation()}}function h(){return{id:n.columnId,name:"<input type='checkbox'>",toolTip:n.toolTip,field:"sel",width:n.width,resizable:!1,sortable:!1,cssClass:n.cssClass,formatter:i}}function i(a,b,c,d,e){return e?l[a]?"<input type='checkbox' checked='checked'>":"<input type='checkbox'>":null}var j,k=this,l={},m={columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},n=a.extend(!0,{},m,b);a.extend(this,{init:c,destroy:d,getColumnDefinition:h})}a.extend(!0,window,{Slick:{CheckboxSelectColumn:b}})})(jQuery)