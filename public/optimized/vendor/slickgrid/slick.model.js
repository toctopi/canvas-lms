function EventHelper(){return this.handlers=[],this.subscribe=function(a){this.handlers.push(a)},this.notify=function(a){for(var b=0;b<this.handlers.length;b++)this.handlers[b].call(this,a)},this}(function(a){function b(){function a(){D=!0}function b(){D=!1,u()}function c(){z={};for(var a=0,b=x.length;a<b;a++){var c=x[a][w];if(c==undefined||z[c]!=undefined)throw"Each data element must implement a unique 'id' property";z[c]=a}}function d(){return x}function e(a,b){b!==undefined&&(w=b),x=a,c(),u()}function f(a){a.pageSize!=undefined&&(H=a.pageSize),a.pageNum!=undefined&&(I=Math.min(a.pageNum,Math.ceil(J/H))),M.notify(g()),u()}function g(){return{pageSize:H,pageNum:I,totalRows:J}}function h(a,b){E=b,F=a,G=null,b===!1&&x.reverse(),x.sort(a),b===!1&&x.reverse(),c(),u()}function i(a,b){E=b,G=a,F=null;var d=Object.prototype.toString;Object.prototype.toString=typeof a=="function"?a:function(){return this[a]},b===!1&&x.reverse(),x.sort(),Object.prototype.toString=d,b===!1&&x.reverse(),c(),u()}function j(){F?h(F,E):G&&i(G,E)}function k(a){B=a,u()}function l(a){return x[a]}function m(a){return z[a]}function n(a){if(!A){A={};for(var b=0,c=y.length;b<c;++b)A[y[b][w]]=b}return A[a]}function o(a){return x[z[a]]}function p(a,b){if(z[a]===undefined||a!==b[w])throw"Invalid or non-matching id";x[z[a]]=b,C||(C={}),C[a]=!0,u()}function q(a,b){x.splice(a,0,b),c(),u()}function r(a){x.push(a),c(),u()}function s(a){if(z[a]===undefined)throw"Invalid id";x.splice(z[a],1),c(),u()}function t(a,b,c,d){var e=[],f=a,g=b,h=c,i=d;A=null;var j=g.length,k=0,l=0,m,n;for(var o=0,p=f.length;o<p;++o){m=f[o];if(!h||h(m)){n=m[w];if(!H||k>=H*I&&k<H*(I+1)){if(l>=j||n!=g[l][w]||i&&i[n])e[e.length]=l,g[l]=m;l++}k++}}return j>l&&g.splice(l,j-l),J=k,e}function u(){if(D)return;var a=y.length,b=J,c=t(x,y,B,C);H&&J<I*H&&(I=Math.floor(J/H),c=t(x,y,B,C)),C=null,b!=J&&M.notify(g()),a!=y.length&&K.notify({previous:a,current:y.length}),c.length>0&&L.notify(c)}var v=this,w="id",x=[],y=[],z={},A=null,B=null,C=null,D=!1,E=!0,F=null,G=null,H=0,I=0,J=0,K=new EventHelper,L=new EventHelper,M=new EventHelper;return{rows:y,beginUpdate:a,endUpdate:b,setPagingOptions:f,getPagingInfo:g,getItems:d,setItems:e,setFilter:k,sort:h,fastSort:i,reSort:j,getIdxById:m,getRowById:n,getItemById:o,getItemByIdx:l,refresh:u,updateItem:p,insertItem:q,addItem:r,deleteItem:s,onRowCountChanged:K,onRowsChanged:L,onPagingInfoChanged:M}}a.extend(!0,window,{Slick:{Data:{DataView:b}}})})(jQuery)