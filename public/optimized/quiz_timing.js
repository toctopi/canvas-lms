define(["i18n!quizzes.timing","jquery","vendor/date"],function(a,b){var c={initialTime:new Date,initTimes:function(){if(c.timesReady)return c.clientServerDiff;var a=Date.parse(b(".now").text())||c.initialTime||new Date,d=c.initialTime||new Date;c.clientServerDiff=a.getTime()-d.getTime(),c.timesReady=!0},setReferenceDate:function(d,e,f){c.timesReady||c.initTimes();var g={};return g.referenceDate=Date.parse(e),g.isDeadline=!0,b(".time_header").text(a.beforeLabel("time_remaining","Time Remaining")),g.referenceDate||(g.isDeadline=!1,b(".time_header").text(a.beforeLabel("time_elapsed","Time Elapsed")),g.referenceDate=Date.parse(d)),g.clientServerDiff=c.clientServerDiff,g}};return c})