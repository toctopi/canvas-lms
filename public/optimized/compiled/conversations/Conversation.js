(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["Backbone","jquery.ajaxJSON","jquery.disableWhileLoading"],function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.name="Conversation",c.prototype.defaults={audience:[]},c.prototype.inboxAction=function(a){var b,c,d,e=this;return c={method:"POST",success:function(a){return e.list.updateItem(a)}},a=$.extend(!0,{},c,a),a.data=$.extend(this.list.baseData(),(d=a.data)!=null?d:{}),b=$.ajaxJSON(a.url,a.method,a.data,function(b){return typeof a.success=="function"&&a.success(b),e.list.updateItem(b)}),this.list.$item(this.id).disableWhileLoading(b)},c.prototype.url=function(a){return a==null&&(a=""),"/conversations/"+this.id+"/"+a+"?"+$.param(this.list.baseData())},c}(a.Model)})}).call(this)