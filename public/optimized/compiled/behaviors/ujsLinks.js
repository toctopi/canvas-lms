(function(){define(["jquery"],function(a){var b,c,d;return c=function(b){var c,d,e,f,g;return b.data("handled",!0),d=b.attr("href"),f=b.data("method"),g=b.attr("target"),c=a("<form method='post' action='"+d+"'></form>"),e="<input name='_method' value='"+f+"' type='hidden' />",ENV.AUTHENTICITY_TOKEN&&(e+="<input name='authenticity_token' value='"+ENV.AUTHENTICITY_TOKEN+"' type='hidden' />"),g&&c.attr("target",g),c.hide().append(e).appendTo("body").submit()},b=function(a){var b;return b=a.data("confirm"),b?confirm(b):!0},a(document).delegate("a[data-confirm], a[data-method], a[data-remove]","click",function(e){var f;f=a(this);if(f.data("handled")||!b(f))return!1;if(f.data("remove"))return d(f),!1;if(f.data("method"))return c(f),!1}),d=function(b){var c,d,e,f,g,h;return f=b.data("remove"),d=b,h=b.data("url"),e=b.closest(":ui-popup").popup("option","trigger").data("KyleMenu"),e&&e.opts.appendMenuTo&&(d=e.$placeholder),c=d.closest(f),c.bind({beforeremove:a.proxy(c,"hide"),remove:a.proxy(c,"remove")}),c.trigger("beforeremove"),g=function(){return c.trigger("remove")},h?a.ajaxJSON(h,"DELETE",g,a.proxy(c,"show")):g()}})}).call(this)