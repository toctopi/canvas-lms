(function(){define(["underscore"],function(a){var b;return b=function(b){return a(b).reduce(function(b,c,d){var e,f,g,h;g=d.split("]["),h=g.length-1,/\[/.test(g[0])&&/\]$/.test(g[h])?(g[h]=g[h].replace(/\]$/,""),g=g.shift().split("[").concat(g),h=g.length-1):h=0;if(h){f=0,e=b;while(f<=h)d=g[f]===""?e.length:g[f],e=e[d]=f<h?e[d]||(g[f+1]&&isNaN(g[f+1])?{}:[]):c,f++}else a.isArray(b[d])?b[d].push(c):b[d]!=null?b[d]=[b[d],c]:b[d]=c;return b},{})}})}).call(this)