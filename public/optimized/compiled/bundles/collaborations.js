define("translations/collaborations",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{es:{collaborations:{errors:{no_name:"Por favor ingrese un nombre para este documento"}}}}})}),define("collaborations",["i18n!collaborations","jquery","jquery.ajaxJSON","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","jquery.templateData","vendor/jquery.scrollTo"],function(a,b){function c(a){b("#collaborations .collaboration:visible").length<=1&&(b("#no_collaborations_message").slideDown(),b(".add_collaboration_link").click()),a.slideUp(function(){a.remove()})}b(document).ready(function(){b("#add_collaboration_form").submit(function(c){var d=b(this).getFormData();if(!d["collaboration[title]"])return c.preventDefault(),c.stopPropagation(),b(this).find("#collaboration_title").errorBox(a.t("errors.no_name","Please enter a name for this document")),b("html,body").scrollTo(b(this)),!1;setTimeout(function(){window.location=window.location.href.replace(window.location.hash,"")},2500)}),b(".toggle_collaborators_link").live("click",function(){b(this).parents(".collaboration").find(".collaborators").slideToggle()}),b(".add_collaboration_link").click(function(a){a.preventDefault();if(b(this).is(":hidden"))return;b(this).hide(),b("#add_collaboration_form").slideToggle(function(){b("html,body").scrollTo(b(this)),b(this).find(":text:visible:first").focus().select()})}),b("#add_collaboration_form .cancel_button").click(function(a){b(".add_collaboration_link").show(),b("#add_collaboration_form").slideToggle()}),b("#delete_collaboration_dialog .cancel_button").click(function(){b("#delete_collaboration_dialog").dialog("close")}),b("#delete_collaboration_dialog .delete_button").click(function(){var a=b(this).hasClass("delete_document_button"),d={delete_doc:a},e=b("#delete_collaboration_dialog").data("collaboration"),f=e.find(".delete_collaboration_link").attr("href");e.dim(),b("#delete_collaboration_dialog").dialog("close"),b.ajaxJSON(f,"DELETE",d,function(a){c(e)},function(a){})}),b(".delete_collaboration_link").click(function(a){a.preventDefault();var d=b(this).parents(".collaboration");b(this).parents(".collaboration").hasClass("google_docs")?(b("#delete_collaboration_dialog").data("collaboration",d),b("#delete_collaboration_dialog").dialog("close").dialog({autoOpen:!1,title:"Delete Collaboration?",width:350}).dialog("open")):d.confirmDelete({message:"Are you sure you want to delete this collaboration?",url:b(this).attr("href"),success:function(a){c(b(this))}})}),b(".edit_collaboration_link").click(function(a){a.preventDefault();var c=b("#edit_collaboration_form").clone(!0);c.attr("action",b(this).attr("href"));var d=b(this).parents(".collaboration");c.attr("class",d.attr("class"));var e=[],f=d.getTemplateData({textValues:["title","description"]});c.fillFormData(f,{object_name:"collaboration"});var g=d.find(".collaborators li").each(function(){var a=b(this).getTemplateData({textValues:["id"]}).id;a&&e.push(a)});c.find(":checkbox").each(function(){b(this).attr("checked",!1)});for(var h in e){var i=e[h];c.find(".collaborator_"+i+" :checkbox").attr("checked",!0)}d.hide().after(c.show())}),b("#edit_collaboration_form .cancel_button").click(function(){var a=b(this).parents("form");a.hide().prev(".collaboration").show(),a.remove()}),b(document).fragmentChange(function(a,c){c=="#add_collaboration"&&b(".add_collaboration_link").click()}),b(".collaboration .show_participants_link.verbose_footer_link").click(function(a){a.preventDefault(),b(this).parents(".collaboration").find(".collaborators").slideToggle()}),b("#collaboration_collaboration_type").change(function(a){var c=b(this).val(),d=c;if(INST.collaboration_types)for(var e in INST.collaboration_types){var f=INST.collaboration_types[e];f.name==c&&(d=f.type)}b("#add_collaboration_form .collaboration_type").hide();var g=b("#add_collaboration_form #"+d+"_description");g.show(),b(".collaborate_data").showIf(!g.hasClass("unauthorized")),b(".collaboration_authorization").hide(),b("#collaborate_authorize_"+d).showIf(g.hasClass("unauthorized"))}).change(),b(".select_all_link,.deselect_all_link").click(function(a){a.preventDefault();var c=b(this).hasClass("select_all_link");b(this).parents("form").find(":checkbox").each(function(){b(this).attr("checked",c)})}),b("#collaborations .collaboration:visible").length<1&&b(".add_collaboration_link").click()})}),function(){require(["collaborations"])}.call(this),define("compiled/bundles/collaborations",function(){})