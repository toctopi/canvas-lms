/*! 
 * jquery.event.drag - v 2.0.0 
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
/**
 * @license
 * (c) 2009-2010 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.0 alpha
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */
(function(){var a={};define("use",{version:"0.2.0",load:function(b,c,d,e){e||(e=require.rawConfig);var f=e.use&&e.use[b];if(!f)throw new TypeError("Module '"+b+"' is undefined or does not"+" have a `use` config. Make sure it exists, add a `use` config, or"+" don't use use! on it");a[b]={deps:f.deps||[],attach:f.attach},c(f.deps||[],function(){var a=arguments;c([b],function(){var b=f.attach;return e.isBuild?d():typeof b=="function"?d(b.apply(window,a)):d(window[b])})})},write:function(b,c,d){var e=a[c],f=e.deps,g={attach:null,deps:""};typeof e.attach=="function"?g.attach=e.attach.toString():g.attach="function() {return window['"+e.attach+"'];"+"}",f.length&&(g.deps="'"+f.toString().split(",").join("','")+"'"),d(["define('",b,"!",c,"', ","[",g.deps,"],",g.attach,");\n"].join(""))}})})(),function(a){a.fn.drag=function(b,c,d){var e=typeof b=="string"?b:"",f=a.isFunction(b)?b:a.isFunction(c)?c:null;return e.indexOf("drag")!==0&&(e="drag"+e),d=(b==f?c:d)||{},f?this.bind(e,d,f):this.trigger(e)};var b=a.event,c=b.special,d=c.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",livekey:"livedrag",add:function(c){var e=a.data(this,d.datakey),f=c.data||{};e.related+=1,!e.live&&c.selector&&(e.live=!0,b.add(this,"draginit."+d.livekey,d.delegate)),a.each(d.defaults,function(a,b){f[a]!==undefined&&(e[a]=f[a])})},remove:function(){a.data(this,d.datakey).related-=1},setup:function(){if(a.data(this,d.datakey))return;var c=a.extend({related:0},d.defaults);a.data(this,d.datakey,c),b.add(this,"mousedown",d.init,c),this.attachEvent&&this.attachEvent("ondragstart",d.dontstart)},teardown:function(){if(a.data(this,d.datakey).related)return;a.removeData(this,d.datakey),b.remove(this,"mousedown",d.init),b.remove(this,"draginit",d.delegate),d.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",d.dontstart)},init:function(e){var f=e.data,g;if(f.which>0&&e.which!=f.which)return;if(a(e.target).is(f.not))return;if(f.handle&&!a(e.target).closest(f.handle,e.currentTarget).length)return;f.propagates=1,f.interactions=[d.interaction(this,f)],f.target=e.target,f.pageX=e.pageX,f.pageY=e.pageY,f.dragging=null,g=d.hijack(e,"draginit",f);if(!f.propagates)return;g=d.flatten(g),g&&g.length&&(f.interactions=[],a.each(g,function(){f.interactions.push(d.interaction(this,f))})),f.propagates=f.interactions.length,f.drop!==!1&&c.drop&&c.drop.handler(e,f),d.textselect(!1),b.add(document,"mousemove mouseup",d.handler,f);var h=a.data(document,"events").mousemove,i=h.pop();return h.splice(0,0,i),!1},interaction:function(b,c){return{drag:b,callback:new d.callback,droppable:[],offset:a(b)[c.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(a){var e=a.data;switch(a.type){case!e.dragging&&"mousemove":if(Math.pow(a.pageX-e.pageX,2)+Math.pow(a.pageY-e.pageY,2)<Math.pow(e.distance,2))break;a.target=e.target,d.hijack(a,"dragstart",e),e.propagates&&(e.dragging=!0);case"mousemove":if(e.dragging){d.hijack(a,"drag",e);if(e.propagates){e.drop!==!1&&c.drop&&c.drop.handler(a,e);break}a.type="mouseup"};case"mouseup":b.remove(document,"mousemove mouseup",d.handler),e.dragging&&(e.drop!==!1&&c.drop&&c.drop.handler(a,e),d.hijack(a,"dragend",e)),d.textselect(!0),e.click===!1&&e.dragging&&(jQuery.event.triggered=!0,setTimeout(function(){jQuery.event.triggered=!1},20),e.dragging=!1)}},delegate:function(c){var e=[],f,g=a.data(this,"events")||{};return a.each(g.live||[],function(g,h){if(h.preType.indexOf("drag")!==0)return;f=a(c.target).closest(h.selector,c.currentTarget)[0];if(!f)return;b.add(f,h.origType+"."+d.livekey,h.origHandler,h.data),a.inArray(f,e)<0&&e.push(f)}),e.length?a(e).bind("dragend."+d.livekey,function(){b.remove(this,"."+d.livekey)}):!1},hijack:function(c,e,f,g,h){if(!f)return;var i={event:c.originalEvent,type:c.type},j=e.indexOf("drop")?"drag":"drop",k,l=g||0,m,n,o,p=isNaN(g)?f.interactions.length:g;c.type=e,c.originalEvent=null,f.results=[];do if(m=f.interactions[l]){if(e!=="dragend"&&m.cancelled)continue;o=d.properties(c,f,m),m.results=[],a(h||m[j]||f.droppable).each(function(g,h){o.target=h,k=h?b.handle.call(h,c,o):null,h&&h!==document&&e==="draginit"&&b.handle.call(document,c,o),k===!1?(j=="drag"&&(m.cancelled=!0,f.propagates-=1),e=="drop"&&(m[j][g]=null)):e=="dropinit"&&m.droppable.push(d.element(k)||h),e=="dragstart"&&(m.proxy=a(d.element(k)||m.drag)[0]),m.results.push(k),delete c.result;if(e!=="dropinit")return k}),f.results[l]=d.flatten(m.results),e=="dropinit"&&(m.droppable=d.flatten(m.droppable)),e=="dragstart"&&!m.cancelled&&o.update()}while(++l<p);return c.type=i.type,c.originalEvent=i.event,d.flatten(f.results)},properties:function(a,b,c){var e=c.callback;return e.drag=c.drag,e.proxy=c.proxy||c.drag,e.startX=b.pageX,e.startY=b.pageY,e.deltaX=a.pageX-b.pageX,e.deltaY=a.pageY-b.pageY,e.originalX=c.offset.left,e.originalY=c.offset.top,e.offsetX=a.pageX-(b.pageX-e.originalX),e.offsetY=a.pageY-(b.pageY-e.originalY),e.drop=d.flatten((c.drop||[]).slice()),e.available=d.flatten((c.droppable||[]).slice()),e},element:function(a){if(a&&(a.jquery||a.nodeType==1))return a},flatten:function(b){return a.map(b,function(b){return b&&b.jquery?a.makeArray(b):b&&b.length?d.flatten(b):b})},textselect:function(b){a(document)[b?"unbind":"bind"]("selectstart",d.dontstart).attr("unselectable",b?"off":"on").css("MozUserSelect",b?"":"none")},dontstart:function(){return!1},callback:function(){}};d.callback.prototype={update:function(){c.drop&&this.available.length&&a.each(this.available,function(a){c.drop.locate(this,a)})}},c.draginit=c.dragstart=c.dragend=d}(jQuery),define("vendor/slickgrid/lib/jquery.event.drag-2.0.min",function(){}),define("use!vendor/slickgrid/lib/jquery.event.drag-2.0.min",["jquery"],function(){return window.$}),function(a){function b(){var a=!1,b=!1;this.stopPropagation=function(){a=!0},this.isPropagationStopped=function(){return a},this.stopImmediatePropagation=function(){b=!0},this.isImmediatePropagationStopped=function(){return b}}function c(){var a=[];this.subscribe=function(b){a.push(b)},this.unsubscribe=function(b){for(var c=a.length-1;c>=0;c--)a[c]===b&&a.splice(c,1)},this.notify=function(c,d,e){d=d||new b,e=e||this;var f;for(var g=0;g<a.length&&!d.isPropagationStopped()&&!d.isImmediatePropagationStopped();g++)f=a[g].call(e,d,c);return f}}function d(){var a=[];this.subscribe=function(b,c){a.push({event:b,handler:c}),b.subscribe(c)},this.unsubscribe=function(b,c){var d=a.length;while(d--)if(a[d].event===b&&a[d].handler===c){a.splice(d,1),b.unsubscribe(c);return}},this.unsubscribeAll=function(){var b=a.length;while(b--)a[b].event.unsubscribe(a[b].handler);a=[]}}function e(a,b,c,d){c===undefined&&d===undefined&&(c=a,d=b),this.fromRow=Math.min(a,c),this.fromCell=Math.min(b,d),this.toRow=Math.max(a,c),this.toCell=Math.max(b,d),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(a,b){return a>=this.fromRow&&a<=this.toRow&&b>=this.fromCell&&b<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function f(){this.__nonDataRow=!0}function g(){this.__group=!0,this.__updated=!1,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null}function h(){this.__groupTotals=!0,this.group=null}function i(){var a=null;this.isActive=function(b){return b?a===b:a!==null},this.activate=function(b){if(b===a)return;if(a!==null)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!b.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!b.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";a=b},this.deactivate=function(b){if(a!==b)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";a=null},this.commitCurrentEdit=function(){return a?a.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return a?a.cancelCurrentEdit():!0}}a.extend(!0,window,{Slick:{Event:c,EventData:b,EventHandler:d,Range:e,NonDataRow:f,Group:g,GroupTotals:h,EditorLock:i,GlobalEditorLock:new i}}),g.prototype=new f,g.prototype.equals=function(a){return this.value===a.value&&this.count===a.count&&this.collapsed===a.collapsed},h.prototype=new f}(jQuery),define("vendor/slickgrid/slick.core",function(){}),define("use!vendor/slickgrid/slick.core",["jquery","use!vendor/slickgrid/lib/jquery.event.drag-2.0.min"],function(){return window.Slick});if(typeof jQuery=="undefined")throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if(typeof Slick=="undefined")throw"slick.core.js not loaded";(function($){function SlickGrid(container,data,columns,options){function init(){$container=$(container);if($container.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),columnDefaults.width=options.defaultColumnWidth;if(options.enableColumnReorder&&!$.fn.sortable)throw new Error('SlickGrid\'s "enableColumnReorder = true" option requires jquery-ui.sortable module to be loaded');editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().attr("tabIndex",0).attr("hideFocus",!0).css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$headerScroller=$("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headers=$("<div class='slick-header-columns' style='width:10000px; left:-1000px' />").appendTo($headerScroller),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewport=$("<div class='slick-viewport' tabIndex='0' hideFocus style='width:100%;overflow-x:auto;outline:0;position:relative;overflow-y:auto;'>").appendTo($container),$canvas=$("<div class='grid-canvas' tabIndex='0' hideFocus />").appendTo($viewport),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(a){return $(a.target).is("input,textarea")}),viewportW=parseFloat($.css($container[0],"width",!0)),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeAndRender(),bindAncestorScrollEvents(),$viewport.bind("scroll.slickgrid",handleScroll),$container.bind("resize.slickgrid",resizeAndRender),$headerScroller.bind("contextmenu.slickgrid",handleHeaderContextMenu).bind("click.slickgrid",handleHeaderClick),$canvas.bind("keydown.slickgrid",handleKeyDown).bind("click.slickgrid",handleClick).bind("dblclick.slickgrid",handleDblClick).bind("contextmenu.slickgrid",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd),$canvas.delegate(".slick-cell","mouseenter",handleMouseEnter),$canvas.delegate(".slick-cell","mouseleave",handleMouseLeave)}function registerPlugin(a){plugins.unshift(a),a.init(self)}function unregisterPlugin(a){for(var b=plugins.length;b>=0;b--)if(plugins[b]===a){plugins[b].destroy&&plugins[b].destroy(),plugins.splice(b,1);break}}function setSelectionModel(a){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=a,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var a=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),b}function getRowWidth(){var a=0,b=columns.length;while(b--)a+=columns[b].width||columnDefaults.width;return a}function setCanvasWidth(a){$canvas.width(a),$headerRow.width(a),viewportHasHScroll=a>viewportW-scrollbarDimensions.width}function disableSelection(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){var a=1e6,b=a,c=$.browser.mozilla?5e6:1e9,d=$("<div style='display:none' />").appendTo(document.body);while(b<=c){d.css("height",b+a);if(d.height()!==b+a)break;b+=a}return d.remove(),b}function bindAncestorScrollEvents(){var a=$canvas[0];while((a=a.parentNode)!=document.body)(a==$viewport[0]||a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&$(a).bind("scroll.slickgrid",handleActiveCellPositionChange)}function unbindAncestorScrollEvents(){$canvas.parents().unbind("scroll.slickgrid")}function updateColumnHeader(a,b,c){var d=getColumnIndex(a),e=$headers.children().eq(d);e&&(columns[d].name=b,columns[d].toolTip=c,e.attr("title",c||b||"").children().eq(0).html(b))}function getHeaderRow(){return $headerRow[0]}function getHeaderRowColumn(a){var b=getColumnIndex(a),c=$headerRow.children().eq(b);return c&&c[0]}function createColumnHeaders(){function a(){$(this).addClass("ui-state-hover")}function b(){$(this).removeClass("ui-state-hover")}var c;$headers.empty(),$headerRow.empty(),columnsById={};for(c=0;c<columns.length;c++){var d=columns[c]=$.extend({},columnDefaults,columns[c]);columnsById[d.id]=c;var e=$("<div class='ui-state-default slick-header-column' id='"+uid+d.id+"' />").html("<span class='slick-column-name'>"+d.name+"</span>").width(d.width-headerColumnWidthDiff).attr("title",d.toolTip||d.name||"").data("fieldId",d.id).addClass(d.headerCssClass||"").appendTo($headers);(options.enableColumnReorder||d.sortable)&&e.hover(a,b),d.sortable&&e.append("<span class='slick-sort-indicator' />"),options.showHeaderRow&&$("<div class='ui-state-default slick-headerrow-column l"+c+" r"+c+"'></div>").appendTo($headerRow)}setSortColumn(sortColumnId,sortAsc),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(a){if($(a.target).hasClass("slick-resizable-handle"))return;var b=$(a.target).closest(".slick-header-column");if(!b.length)return;var c=columns[getColumnIndex(b.data("fieldId"))];if(c.sortable){if(!getEditorLock().commitCurrentEdit())return;c.id===sortColumnId?sortAsc=!sortAsc:(sortColumnId=c.id,sortAsc=!0),setSortColumn(sortColumnId,sortAsc),trigger(self.onSort,{sortCol:c,sortAsc:sortAsc},a)}})}function setupColumnReorder(){$headers.sortable({containment:"parent",axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(a,b){$(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){$(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(!getEditorLock().commitCurrentEdit()){$(this).sortable("cancel");return}var b=$headers.sortable("toArray"),c=[];for(var d=0;d<b.length;d++)c.push(columns[getColumnIndex(b[d].replace(uid,""))]);setColumns(c),trigger(self.onColumnsReordered,{}),a.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var a,b,c,d,e,f,g,h,i,j;e=$headers.children(),e.find(".slick-resizable-handle").remove(),e.each(function(a,b){columns[a].resizable&&(h===undefined&&(h=a),i=a)});if(h===undefined)return;e.each(function(k,l){if(k<h||options.forceFitColumns&&k>=i)return;a=$(l),$("<div class='slick-resizable-handle' />").appendTo(l).bind("dragstart",function(a,h){if(!getEditorLock().commitCurrentEdit())return!1;d=a.pageX,$(this).parent().addClass("slick-header-column-active");var i=null,l=null;e.each(function(a,b){columns[a].previousWidth=$(b).outerWidth()});if(options.forceFitColumns){i=0,l=0;for(b=k+1;b<e.length;b++)c=columns[b],c.resizable&&(l!==null&&(c.maxWidth?l+=c.maxWidth-c.previousWidth:l=null),i+=c.previousWidth-Math.max(c.minWidth||0,absoluteColumnMinWidth))}var m=0,n=0;for(b=0;b<=k;b++)c=columns[b],c.resizable&&(n!==null&&(c.maxWidth?n+=c.maxWidth-c.previousWidth:n=null),m+=c.previousWidth-Math.max(c.minWidth||0,absoluteColumnMinWidth));i===null&&(i=1e5),m===null&&(m=1e5),l===null&&(l=1e5),n===null&&(n=1e5),g=d+Math.min(i,n),f=d-Math.min(m,l),j=$canvas.width()}).bind("drag",function(a,h){var i,l=Math.min(g,Math.max(f,a.pageX))-d,m,n;if(l<0){m=l;for(b=k;b>=0;b--)c=columns[b],c.resizable&&(i=Math.max(c.minWidth||0,absoluteColumnMinWidth),m&&c.previousWidth+m<i?(m+=c.previousWidth-i,c.width=i):(c.width=c.previousWidth+m,m=0));if(options.forceFitColumns){m=-l;for(b=k+1;b<e.length;b++)c=columns[b],c.resizable&&(m&&c.maxWidth&&c.maxWidth-c.previousWidth<m?(m-=c.maxWidth-c.previousWidth,c.width=c.maxWidth):(c.width=c.previousWidth+m,m=0))}else options.syncColumnCellResize&&setCanvasWidth(j+l)}else{m=l;for(b=k;b>=0;b--)c=columns[b],c.resizable&&(m&&c.maxWidth&&c.maxWidth-c.previousWidth<m?(m-=c.maxWidth-c.previousWidth,c.width=c.maxWidth):(c.width=c.previousWidth+m,m=0));if(options.forceFitColumns){m=-l;for(b=k+1;b<e.length;b++)c=columns[b],c.resizable&&(i=Math.max(c.minWidth||0,absoluteColumnMinWidth),m&&c.previousWidth+m<i?(m+=c.previousWidth-i,c.width=i):(c.width=c.previousWidth+m,m=0))}else options.syncColumnCellResize&&setCanvasWidth(j+l)}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(a,d){var f;$(this).parent().removeClass("slick-header-column-active");for(b=0;b<e.length;b++)c=columns[b],f=$(e[b]).outerWidth(),c.previousWidth!==f&&c.rerenderOnResize&&invalidateAllRows();applyColumnWidths(),resizeCanvas(),trigger(self.onColumnsResized,{})})})}function getVBoxDelta(a){var b=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=0;return $.each(b,function(b,d){c+=parseFloat(a.css(d))||0}),c}function measureCellPaddingAndBorder(){var a,b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,$.each(b,function(b,c){headerColumnWidthDiff+=parseFloat(a.css(c))||0}),$.each(c,function(b,c){headerColumnHeightDiff+=parseFloat(a.css(c))||0}),a.remove();var d=$("<div class='slick-row' />").appendTo($canvas);a=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(d),cellWidthDiff=cellHeightDiff=0,$.each(b,function(b,c){cellWidthDiff+=parseFloat(a.css(c))||0}),$.each(c,function(b,c){cellHeightDiff+=parseFloat(a.css(c))||0}),d.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));var a=options.rowHeight-cellHeightDiff,b=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+a+"px; }","."+uid+" .slick-row { width:"+getRowWidth()+"px; height:"+options.rowHeight+"px; }"],c=getRowWidth(),d=0,e;for(var f=0;f<columns.length;f++)e=columns[f].width,b.push("."+uid+" .l"+f+" { left: "+d+"px; }"),b.push("."+uid+" .r"+f+" { right: "+(c-d-e)+"px; }"),d+=columns[f].width;$style[0].styleSheet?$style[0].styleSheet.cssText=b.join(" "):$style[0].appendChild(document.createTextNode(b.join(" ")));var g=document.styleSheets;for(var f=0;f<g.length;f++)if((g[f].ownerNode||g[f].owningElement)==$style[0]){stylesheet=g[f];break}}function findCssRule(a){var b=stylesheet.cssRules||stylesheet.rules;for(var c=0;c<b.length;c++)if(b[c].selectorText==a)return b[c];return null}function removeCssRules(){$style.remove()}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var a=0;a<plugins.length;a++)unregisterPlugin(plugins[a]);options.enableColumnReorder&&$headers.sortable&&$headers.sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(a,b,c){return c=c||new Slick.EventData,b=b||{},b.grid=self,a.notify(b,c,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(a){return columnsById[a]}function autosizeColumns(){var a,b,c=[],d=0,e=options.autoHeight?viewportW:viewportW-scrollbarDimensions.width,f=0,g=0;for(a=0;a<columns.length;a++)b=columns[a],c.push(b.width),g+=b.width,d+=b.width-Math.max(b.minWidth||0,absoluteColumnMinWidth);f=g,invalidateAllRows();while(f>e){if(!d)return;var h=(f-e)/d;for(a=0;a<columns.length&&f>e;a++){b=columns[a];if(!b.resizable||b.minWidth===b.width||b.width===absoluteColumnMinWidth)continue;var i=Math.floor(h*(b.width-Math.max(b.minWidth||0,absoluteColumnMinWidth)))||1;f-=i,c[a]-=i}}var j=f;while(f<e){var k=e/f;for(a=0;a<columns.length&&f<e;a++){b=columns[a];if(!b.resizable||b.maxWidth<=b.width)continue;var l=Math.min(Math.floor(k*b.width)-b.width,b.maxWidth-b.width||1e6)||1;f+=l,c[a]+=l}if(j==f)break;j=f}for(a=0;a<columns.length;a++)columns[a].width=c[a];applyColumnHeaderWidths(),applyColumnWidths(),resizeCanvas()}function applyColumnHeaderWidths(){var a;for(var b=0,c=$headers.children(),d=c.length;b<d;b++)a=$(c[b]),a.width()!==columns[b].width-headerColumnWidthDiff&&a.width(columns[b].width-headerColumnWidthDiff)}function applyColumnWidths(){var a=getRowWidth(),b=0,c,d;for(var e=0;e<columns.length;e++)c=columns[e].width,d=findCssRule("."+uid+" .l"+e),d.style.left=b+"px",d=findCssRule("."+uid+" .r"+e),d.style.right=a-b-c+"px",b+=columns[e].width;d=findCssRule("."+uid+" .slick-row"),d.style.width=a+"px"}function setSortColumn(a,b){sortColumnId=a,sortAsc=b;var c=getColumnIndex(sortColumnId);$headers.children().removeClass("slick-header-column-sorted"),$headers.find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),c!=null&&$headers.children().eq(c).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")}function handleSelectedRangesChanged(a,b){selectedRows=[];var c={};for(var d=0;d<b.length;d++)for(var e=b[d].fromRow;e<=b[d].toRow;e++){c[e]||selectedRows.push(e),c[e]={};for(var f=b[d].fromCell;f<=b[d].toCell;f++)canCellBeSelected(e,f)&&(c[e][columns[f].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,c),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},a)}function getColumns(){return columns}function setColumns(a){columns=a,invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeAndRender(),handleScroll()}function getOptions(){return options}function setOptions(a){if(!getEditorLock().commitCurrentEdit())return;makeActiveCellNormal(),options.enableAddRow!==a.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,a),render()}function setData(a,b){invalidateAllRows(),data=a,b&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataItem(a){return data.getItem?data.getItem(a):data[a]}function getTopPanel(){return $topPanel[0]}function showTopPanel(){options.showTopPanel=!0,$topPanelScroller.slideDown("fast",resizeCanvas)}function hideTopPanel(){options.showTopPanel=!1,$topPanelScroller.slideUp("fast",resizeCanvas)}function showHeaderRowColumns(){options.showHeaderRow=!0,$headerRowScroller.slideDown("fast",resizeCanvas)}function hideHeaderRowColumns(){options.showHeaderRow=!1,$headerRowScroller.slideUp("fast",resizeCanvas)}function scrollTo(a){var b=offset;page=Math.min(n-1,Math.floor(a/ph)),offset=Math.round(page*cj);var c=a-offset;if(offset!=b){var d=getVisibleRange(c);cleanupRows(d.top,d.bottom),updateRowPositions()}prevScrollTop!=c&&(scrollDir=prevScrollTop+b<c+offset?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=c,trigger(self.onViewportChanged,{}))}function defaultFormatter(a,b,c,d,e){return c===null||c===undefined?"":c}function getFormatter(a,b){var c=data.getItemMetadata&&data.getItemMetadata(a),d=c&&c.columns&&(c.columns[b.id]||c.columns[getColumnIndex(b.id)]);return d&&d.formatter||c&&c.formatter||b.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(b)||defaultFormatter}function getEditor(a,b){var c=columns[b],d=data.getItemMetadata&&data.getItemMetadata(a),e=d&&d.columns;return e&&e[c.id]&&e[c.id].editor!==undefined?e[c.id].editor:e&&e[b]&&e[b].editor!==undefined?e[b].editor:c.editor||options.editorFactory&&options.editorFactory.getEditor(c)}function getDataItemValueForColumn(a,b){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(a,b):a[b.field]}function appendRowHtml(a,b){var c=getDataItem(b),d=b<getDataLength()&&!c,e,f="slick-row "+(d?" loading":"")+(b%2==1?" odd":" even"),g=data.getItemMetadata&&data.getItemMetadata(b);g&&g.cssClasses&&(f+=" "+g.cssClasses),a.push("<div class='ui-widget-content "+f+"' row='"+b+"' style='top:"+(options.rowHeight*b-offset)+"px'>");var h,i;for(var j=0,k=columns.length;j<k;j++){i=columns[j],h=getColspan(b,j),e="slick-cell l"+j+" r"+Math.min(columns.length-1,j+h-1)+(i.cssClass?" "+i.cssClass:""),b===activeRow&&j===activeCell&&(e+=" active");for(var l in cellCssClasses)cellCssClasses[l][b]&&cellCssClasses[l][b][i.id]&&(e+=" "+cellCssClasses[l][b][i.id]);a.push("<div class='"+e+"'>"),c&&a.push(getFormatter(b,i)(b,j,getDataItemValueForColumn(c,i),i,c)),a.push("</div>"),h&&(j+=h-1)}a.push("</div>")}function cleanupRows(a){for(var b in rowsCache)(b=parseInt(b,10))!==activeRow&&(b<a.top||b>a.bottom)&&removeRowFromCache(b)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var a in rowsCache)removeRowFromCache(a)}function removeRowFromCache(a){var b=rowsCache[a];if(!b)return;$canvas[0].removeChild(b),delete rowsCache[a],delete postProcessedRows[a],renderedRows--,counter_rows_removed++}function invalidateRows(a){var b,c;if(!a||!a.length)return;scrollDir=0;for(b=0,c=a.length;b<c;b++)currentEditor&&activeRow===b&&makeActiveCellNormal(),rowsCache[a[b]]&&removeRowFromCache(a[b])}function invalidateRow(a){invalidateRows([a])}function updateCell(a,b){var c=getCellNode(a,b);if(!c)return;var d=columns[b],e=getDataItem(a);currentEditor&&activeRow===a&&activeCell===b?currentEditor.loadValue(e):(c.innerHTML=e?getFormatter(a,d)(a,b,getDataItemValueForColumn(e,d),d,e):"",invalidatePostProcessingResults(a))}function updateRow(a){if(!rowsCache[a])return;$(rowsCache[a]).children().each(function(b){var c=columns[b],d=getDataItem(a);a===activeRow&&b===activeCell&&currentEditor?currentEditor.loadValue(getDataItem(activeRow)):d?this.innerHTML=getFormatter(a,c)(a,b,getDataItemValueForColumn(d,c),c,getDataItem(a)):this.innerHTML=""}),invalidatePostProcessingResults(a)}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-options.headerHeight-getVBoxDelta($headers)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)}function resizeCanvas(){options.autoHeight?viewportH=options.rowHeight*(getDataLength()+(options.enableAddRow?1:0)+(options.leaveSpaceForNewRows?numVisibleRows-1:0)):viewportH=getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),$viewport.height(viewportH);var a=0,b=columns.length;while(b--)a+=columns[b].width;setCanvasWidth(a),updateRowCount(),render()}function resizeAndRender(){options.forceFitColumns?autosizeColumns():resizeCanvas()}function updateRowCount(){var a=getDataLength()+(options.enableAddRow?1:0)+(options.leaveSpaceForNewRows?numVisibleRows-1:0),b=h,c=options.enableAddRow?getDataLength():getDataLength()-1;for(var d in rowsCache)d>=c&&removeRowFromCache(d);th=Math.max(options.rowHeight*a,viewportH-scrollbarDimensions.height),th<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==b&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var e=scrollTop+offset<=th-viewportH;th==0||scrollTop==0?page=offset=0:e?scrollTo(scrollTop+offset):scrollTo(th-viewportH),h!=b&&options.autoHeight&&resizeCanvas()}function getVisibleRange(a){return a==null&&(a=scrollTop),{top:Math.floor((scrollTop+offset)/options.rowHeight),bottom:Math.ceil((scrollTop+offset+viewportH)/options.rowHeight)}}function getRenderedRange(a){var b=getVisibleRange(a),c=Math.round(viewportH/options.rowHeight),d=3;return scrollDir==-1?(b.top-=c,b.bottom+=d):scrollDir==1?(b.top-=d,b.bottom+=c):(b.top-=d,b.bottom+=d),b.top=Math.max(0,b.top),b.bottom=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,b.bottom),b}function renderRows(a){var b,c,d=$canvas[0],e=renderedRows,f=[],g=[],h=new Date,i=!1;for(b=a.top;b<=a.bottom;b++){if(rowsCache[b])continue;renderedRows++,g.push(b),appendRowHtml(f,b),activeCellNode&&activeRow===b&&(i=!0),counter_rows_rendered++}var j=document.createElement("div");j.innerHTML=f.join("");for(b=0,c=j.childNodes.length;b<c;b++)rowsCache[g[b]]=d.appendChild(j.firstChild);i&&(activeCellNode=getCellNode(activeRow,activeCell)),renderedRows-e>5&&(avgRowRenderTime=(new Date-h)/(renderedRows-e))}function startPostProcessing(){if(!options.enableAsyncPostRender)return;clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay)}function invalidatePostProcessingResults(a){delete postProcessedRows[a],postProcessFromRow=Math.min(postProcessFromRow,a),postProcessToRow=Math.max(postProcessToRow,a),startPostProcessing()}function updateRowPositions(){for(var a in rowsCache)rowsCache[a].style.top=a*options.rowHeight-offset+"px"}function render(){var a=getVisibleRange(),b=getRenderedRange();cleanupRows(b),renderRows(b),postProcessFromRow=a.top,postProcessToRow=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,a.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,h_render=null}function handleScroll(){scrollTop=$viewport[0].scrollTop;var a=$viewport[0].scrollLeft,b=Math.abs(scrollTop-prevScrollTop);a!==prevScrollLeft&&(prevScrollLeft=a,$headerScroller[0].scrollLeft=a,$topPanelScroller[0].scrollLeft=a,$headerRowScroller[0].scrollLeft=a);if(b){scrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop;if(b<viewportH)scrollTo(scrollTop+offset);else{var c=offset;page=Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),offset=Math.round(page*cj),c!=offset&&invalidateAllRows()}h_render&&clearTimeout(h_render),Math.abs(lastRenderedScrollTop-scrollTop)<viewportH?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{})}trigger(self.onScroll,{scrollLeft:a,scrollTop:scrollTop})}function asyncPostProcessRows(){while(postProcessFromRow<=postProcessToRow){var a=scrollDir<0?postProcessToRow--:postProcessFromRow++,b=rowsCache[a];if(!b||postProcessedRows[a]||a>=getDataLength())continue;var c=getDataItem(a),d=b.childNodes;for(var e=0,f=0,g=columns.length;e<g;++e){var h=columns[e];h.asyncPostRender&&h.asyncPostRender(d[f],postProcessFromRow,c,h),++f}postProcessedRows[a]=!0,h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay);return}}function addCellCssStyles(a,b){if(cellCssClasses[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";cellCssClasses[a]=b;var c;for(var d in rowsCache)if(b[d])for(var e in b[d])c=getCellNode(d,getColumnIndex(e)),c&&$(c).addClass(b[d][e])}function removeCellCssStyles(a){if(!cellCssClasses[a])return;var b;for(var c in rowsCache)if(cellCssClasses[a][c])for(var d in cellCssClasses[a][c])b=getCellNode(c,getColumnIndex(d)),b&&$(b).removeClass(cellCssClasses[a][c][d]);delete cellCssClasses[a]}function setCellCssStyles(a,b){removeCellCssStyles(a),addCellCssStyles(a,b)}function flashCell(a,b,c){c=c||100;if(rowsCache[a]){var d=$(getCellNode(a,b));function e(a){if(!a)return;setTimeout(function(){d.queue(function(){d.toggleClass(options.cellFlashingCssClass).dequeue(),e(a-1)})},c)}e(4)}}function handleDragInit(a,b){var c=getCellFromEvent(a);return!c||!cellExists(c.row,c.cell)?!1:(retval=trigger(self.onDragInit,b,a),a.isImmediatePropagationStopped()?retval:!1)}function handleDragStart(a,b){var c=getCellFromEvent(a);if(!c||!cellExists(c.row,c.cell))return!1;var d=trigger(self.onDragStart,b,a);return a.isImmediatePropagationStopped()?d:!1}function handleDrag(a,b){return trigger(self.onDrag,b,a)}function handleDragEnd(a,b){trigger(self.onDragEnd,b,a)}function handleKeyDown(a){trigger(self.onKeyDown,{},a);var b=a.isImmediatePropagationStopped();if(!b)if(!a.shiftKey&&!a.altKey&&!a.ctrlKey)if(a.which==27){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else if(a.which==37)navigateLeft();else if(a.which==39)navigateRight();else if(a.which==38)navigateUp();else if(a.which==40)navigateDown();else if(a.which==9)navigateNext();else if(a.which==13)options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable());else return;else if(a.which==9&&a.shiftKey&&!a.ctrlKey&&!a.altKey)navigatePrev();else return;a.stopPropagation(),a.preventDefault();try{a.originalEvent.keyCode=0}catch(c){}}function handleClick(a){var b=getCellFromEvent(a);if(!b||currentEditor!==null&&activeRow==b.row&&activeCell==b.cell)return;trigger(self.onClick,{row:b.row,cell:b.cell},a);if(a.isImmediatePropagationStopped())return;canCellBeActive(b.row,b.cell)&&(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(b.row,!1),setActiveCellInternal(getCellNode(b.row,b.cell),b.row===getDataLength()||options.autoEdit))}function handleContextMenu(a){var b=$(a.target).closest(".slick-cell",$canvas);if(b.length===0)return;if(activeCellNode===b[0]&&currentEditor!==null)return;trigger(self.onContextMenu,{},a)}function handleDblClick(a){var b=getCellFromEvent(a);if(!b||currentEditor!==null&&activeRow==b.row&&activeCell==b.cell)return;trigger(self.onDblClick,{row:b.row,cell:b.cell},a);if(a.isImmediatePropagationStopped())return;options.editable&&gotoCell(b.row,b.cell,!0)}function handleHeaderContextMenu(a){var b=$(a.target).closest(".slick-header-column",".slick-header-columns"),c=b&&columns[self.getColumnIndex(b.data("fieldId"))];trigger(self.onHeaderContextMenu,{column:c},a)}function handleHeaderClick(a){var b=$(a.target).closest(".slick-header-column",".slick-header-columns"),c=b&&columns[self.getColumnIndex(b.data("fieldId"))];trigger(self.onHeaderClick,{column:c},a)}function handleMouseEnter(a){trigger(self.onMouseEnter,{},a)}function handleMouseLeave(a){trigger(self.onMouseLeave,{},a)}function cellExists(a,b){return a>=0&&a<getDataLength()&&b>=0&&b<columns.length}function getCellFromPoint(a,b){var c=Math.floor((b+offset)/options.rowHeight),d=0,e=0;for(var f=0;f<columns.length&&e<a;f++)e+=columns[f].width,d++;return d<0&&(d=0),{row:c,cell:d-1}}function getCellFromNode(a){var b=/l\d+/.exec(a.className)||/c\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function getCellFromEvent(a){var b=$(a.target).closest(".slick-cell",$canvas);return b.length?{row:b.parent().attr("row")|0,cell:getCellFromNode(b[0])}:null}function getCellNodeBox(a,b){if(!cellExists(a,b))return null;var c=a*options.rowHeight-offset,d=c+options.rowHeight-1,e=0;for(var f=0;f<b;f++)e+=columns[f].width;var g=e+columns[b].width;return{top:c,left:e,bottom:d,right:g}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){$.browser.msie?$canvas[0].setActive():$canvas[0].focus()}function scrollActiveCellIntoView(){if(activeCellNode){var a=$(activeCellNode).position().left,b=a+$(activeCellNode).outerWidth(),c=$viewport.scrollLeft(),d=c+$viewport.width();a<c?$viewport.scrollLeft(a):b>d&&$viewport.scrollLeft(Math.min(a,b-$viewport[0].clientWidth))}}function setActiveCellInternal(a,b){activeCellNode!==null&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"));var c=activeCellNode!==a;activeCellNode=a,activeCellNode!=null?(activeRow=parseInt($(activeCellNode).parent().attr("row")),activeCell=activePosX=getCellFromNode(activeCellNode),$(activeCellNode).addClass("active"),options.editable&&b&&isCellPotentiallyEditable(activeRow,activeCell)?(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable()):setFocus()):activeRow=activeCell=null,c&&(scrollActiveCellIntoView(),trigger(self.onActiveCellChanged,getActiveCell()))}function clearTextSelection(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var a=window.getSelection();a&&a.removeAllRanges&&a.removeAllRanges()}}function isCellPotentiallyEditable(a,b){return a<getDataLength()&&!getDataItem(a)?!1:columns[b].cannotTriggerInsert&&a>=getDataLength()?!1:getEditor(a,b)?!0:!1}function makeActiveCellNormal(){if(!currentEditor)return;trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null;if(activeCellNode){var a=getDataItem(activeRow);$(activeCellNode).removeClass("editable invalid");if(a){var b=columns[activeCell];activeCellNode.innerHTML=getFormatter(activeRow,b)(activeRow,activeCell,getDataItemValueForColumn(a,b),b,getDataItem(activeRow)),invalidatePostProcessingResults(activeRow)}}$.browser.msie&&clearTextSelection(),getEditorLock().deactivate(editController)}function makeActiveCellEditable(a){if(!activeCellNode)return;if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(h_editorLoader);if(!isCellPotentiallyEditable(activeRow,activeCell))return;var b=columns[activeCell],c=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:c,column:b})===!1){setFocus();return}getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),a||(activeCellNode.innerHTML=""),currentEditor=new(a||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:b,item:c||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),c&&currentEditor.loadValue(c),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:$(a).outerWidth(),height:$(a).outerHeight(),visible:!0};b.bottom=b.top+b.height,b.right=b.left+b.width;var c=a.offsetParent;while((a=a.parentNode)!=document.body)b.visible&&a.scrollHeight!=a.offsetHeight&&$(a).css("overflowY")!="visible"&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&$(a).css("overflowX")!="visible"&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===c&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,c=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(!activeCellNode)return;var a;trigger(self.onActiveCellPositionChanged,{}),currentEditor&&(a=a||getActiveCellPosition(),currentEditor.show&&currentEditor.hide&&(a.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(a))}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(a,b){var c=a*options.rowHeight,d=(a+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(a+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(b?c:d),render()):a*options.rowHeight<scrollTop+offset&&(scrollTo(b?d:c),render())}function getColspan(a,b){var c=data.getItemMetadata&&data.getItemMetadata(a);if(!c||!c.columns)return 1;var d=c.columns[columns[b].id]||c.columns[b],e=d&&d.colspan;return e==="*"&&(e=columns.length-b),e||1}function findFirstFocusableCell(a){var b=0;while(b<columns.length){if(canCellBeActive(a,b))return b;b+=getColspan(a,b)}return null}function findLastFocusableCell(a){var b=0,c=null;while(b<columns.length)canCellBeActive(a,b)&&(c=b),b+=getColspan(a,b);return c}function gotoRight(a,b,c){if(b<columns.length){do b+=getColspan(a,b);while(b<columns.length&&!canCellBeActive(a,b));return b<columns.length?{row:a,cell:b,posX:b}:null}return null}function gotoLeft(a,b,c){if(b<=0)return null;var d=findFirstFocusableCell(a);if(d===null||d>=b)return null;var e={row:a,cell:d,posX:d},f;for(;;){f=gotoRight(e.row,e.cell,e.posX);if(!f)return null;if(f.cell<b)e=f;else return e}}function gotoDown(a,b,c){var d;for(;;){if(++a>=getDataLength()+(options.enableAddRow?1:0))return null;d=b=0;while(b<=c)d=b,b+=getColspan(a,b);if(canCellBeActive(a,d))return{row:a,cell:d,posX:c}}}function gotoUp(a,b,c){var d;for(;;){if(--a<0)return null;d=b=0;while(b<=c)d=b,b+=getColspan(a,b);if(canCellBeActive(a,d))return{row:a,cell:d,posX:c}}}function gotoNext(a,b,c){var d=gotoRight(a,b,c);if(d)return d;var e=null;while(++a<getDataLength()+(options.enableAddRow?1:0)){e=findFirstFocusableCell(a);if(e!==null)return{row:a,cell:e,posX:e}}return null}function gotoPrev(a,b,c){var d,e;while(!d){d=gotoLeft(a,b,c);if(d)break;if(--a<0)return null;b=0,e=findLastFocusableCell(a),e!==null&&(d={row:a,cell:e,posX:e})}return d}function navigateRight(){navigate("right")}function navigateLeft(){navigate("left")}function navigateDown(){navigate("down")}function navigateUp(){navigate("up")}function navigateNext(){navigate("next")}function navigatePrev(){navigate("prev")}function navigate(a){if(!activeCellNode||!options.enableCellNavigation)return;if(!getEditorLock().commitCurrentEdit())return;var b={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},c=b[a],d=c(activeRow,activeCell,activePosX);if(d){var e=d.row==getDataLength();scrollRowIntoView(d.row,!e),setActiveCellInternal(getCellNode(d.row,d.cell),e||options.autoEdit),activePosX=d.posX}}function getCellNode(a,b){if(rowsCache[a]){var c=$(rowsCache[a]).children(),d;for(var e=0;e<c.length;e++){d=getCellFromNode(c[e]);if(d===b)return c[e];if(d>b)return null}}return null}function setActiveCell(a,b){if(a>getDataLength()||a<0||b>=columns.length||b<0)return;if(!options.enableCellNavigation)return;scrollRowIntoView(a,!1),setActiveCellInternal(getCellNode(a,b),!1)}function canCellBeActive(a,b){if(!options.enableCellNavigation||a>=getDataLength()+(options.enableAddRow?1:0)||a<0||b>=columns.length||b<0)return!1;var c=data.getItemMetadata&&data.getItemMetadata(a);if(c&&typeof c.focusable=="boolean")return c.focusable;var d=c&&c.columns;return d&&d[columns[b].id]&&typeof d[columns[b].id].focusable=="boolean"?d[columns[b].id].focusable:d&&d[b]&&typeof d[b].focusable=="boolean"?d[b].focusable:typeof columns[b].focusable=="boolean"?columns[b].focusable:!0}function canCellBeSelected(a,b){if(a>=getDataLength()||a<0||b>=columns.length||b<0)return!1;var c=data.getItemMetadata&&data.getItemMetadata(a);if(c&&typeof c.selectable=="boolean")return c.selectable;var d=c&&c.columns&&(c.columns[columns[b].id]||c.columns[b]);return d&&typeof d.selectable=="boolean"?d.selectable:typeof columns[b].selectable=="boolean"?columns[b].selectable:!0}function gotoCell(a,b,c){if(!canCellBeActive(a,b))return;if(!getEditorLock().commitCurrentEdit())return;scrollRowIntoView(a,!1);var d=getCellNode(a,b);setActiveCellInternal(d,c||a===getDataLength()||options.autoEdit),currentEditor||setFocus()}function commitCurrentEdit(){var a=getDataItem(activeRow),b=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var c=currentEditor.validate();if(c.valid){if(activeRow<getDataLength()){var d={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(a,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(a,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(a,b,d)):(d.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:a})}else{var e={};currentEditor.applyValue(e,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:e,column:b})}return!getEditorLock().isActive()}return $(activeCellNode).addClass("invalid"),$(activeCellNode).stop(!0,!0).effect("highlight",{color:"red"},300),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:c,row:activeRow,cell:activeCell,column:b}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(a){var b=[],c=columns.length-1;for(var d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(a){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(a))}var defaults={headerHeight:25,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:60,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null},maxSupportedCssHeight,th,h,ph,n,cj,page=0,offset=0,scrollDir=1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$headerScroller,$headers,$headerRow,$headerRowScroller,$topPanelScroller,$topPanel,$viewport,$canvas,$style,stylesheet,viewportH,viewportW,viewportHasHScroll,headerColumnWidthDiff,headerColumnHeightDiff,cellWidthDiff,cellHeightDiff,absoluteColumnMinWidth,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,prevScrollLeft=0,avgRowRenderTime=10,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumnId,sortAsc=!0,h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var a="";a+="\ncounter_rows_rendered:  "+counter_rows_rendered,a+="\ncounter_rows_removed:  "+counter_rows_removed,a+="\nrenderedRows:  "+renderedRows,a+="\nnumVisibleRows:  "+numVisibleRows,a+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,a+="\nn(umber of pages):  "+n,a+="\n(current) page:  "+page,a+="\npage height (ph):  "+ph,a+="\nscrollDir:  "+scrollDir,alert(a)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.0a1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,getCanvasNode:getCanvasNode,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,gotoCell:gotoCell,getTopPanel:getTopPanel,showTopPanel:showTopPanel,hideTopPanel:hideTopPanel,showHeaderRowColumns:showHeaderRowColumns,hideHeaderRowColumns:hideHeaderRowColumns,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions})(jQuery),define("vendor/slickgrid/slick.grid",function(){}),define("use!vendor/slickgrid/slick.grid",["use!vendor/slickgrid/slick.core"],function(){return window.Slick}),function(a){var b={SelectorCellFormatter:function(a,b,c,d,e){return e?a:""},PercentCompleteCellFormatter:function(a,b,c,d,e){return c==null||c===""?"-":c<50?"<span style='color:red;font-weight:bold;'>"+c+"%</span>":"<span style='color:green'>"+c+"%</span>"},GraphicalPercentCompleteCellFormatter:function(a,b,c,d,e){if(c==null||c==="")return"";var f;return c<30?f="red":c<70?f="silver":f="green","<span class='percent-complete-bar' style='background:"+f+";width:"+c+"%'></span>"},YesNoCellFormatter:function(a,b,c,d,e){return c?"Yes":"No"},BoolCellFormatter:function(a,b,c,d,e){return c?"<img src='../images/tick.png'>":""},TaskNameFormatter:function(a,b,c,d,e){var f="<span style='display:inline-block;height:1px;width:"+(2+15*e.indent)+"px'></span>";return f+" <img src='../images/expand.gif'>&nbsp;"+c},ResourcesFormatter:function(a,b,c,d,e){var f=e.resources;return!f||f.length==0?"":d.width<50?(f.length>1?"<center><img src='../images/user_identity_plus.gif' ":"<center><img src='../images/user_identity.gif' ")+" title='"+f.join(", ")+"'></center>":f.join(", ")},StarFormatter:function(a,b,c,d,e){return c?"<img src='../images/bullet_star.png' align='absmiddle'>":""},TextCellEditor:function(b){var c,d,e=this;this.init=function(){c=a("<INPUT type=text class='editor-text' />").appendTo(b.container).bind("keydown.nav",function(b){(b.keyCode===a.ui.keyCode.LEFT||b.keyCode===a.ui.keyCode.RIGHT)&&b.stopImmediatePropagation()}).focus().select()},this.destroy=function(){c.remove()},this.focus=function(){c.focus()},this.getValue=function(){return c.val()},this.setValue=function(a){c.val(a)},this.loadValue=function(a){d=a[b.column.field]||"",c.val(d),c[0].defaultValue=d,c.select()},this.serializeValue=function(){return c.val()},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return(c.val()!=""||d!=null)&&c.val()!=d},this.validate=function(){if(b.column.validator){var a=b.column.validator(c.val());if(!a.valid)return a}return{valid:!0,msg:null}},this.init()},IntegerCellEditor:function(b){var c,d,e=this;this.init=function(){c=a("<INPUT type=text class='editor-text' />"),c.bind("keydown.nav",function(b){(b.keyCode===a.ui.keyCode.LEFT||b.keyCode===a.ui.keyCode.RIGHT)&&b.stopImmediatePropagation()}),c.appendTo(b.container),c.focus().select()},this.destroy=function(){c.remove()},this.focus=function(){c.focus()},this.loadValue=function(a){d=a[b.column.field],c.val(d),c[0].defaultValue=d,c.select()},this.serializeValue=function(){return parseInt(c.val(),10)||0},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return(c.val()!=""||d!=null)&&c.val()!=d},this.validate=function(){return isNaN(c.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()},DateCellEditor:function(b){var c,d,e=this,f=!1;this.init=function(){c=a("<INPUT type=text class='editor-text' />"),c.appendTo(b.container),c.focus().select(),c.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){f=!0},onClose:function(){f=!1}}),c.width(c.width()-18)},this.destroy=function(){a.datepicker.dpDiv.stop(!0,!0),c.datepicker("hide"),c.datepicker("destroy"),c.remove()},this.show=function(){f&&a.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){f&&a.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(b){if(!f)return;a.datepicker.dpDiv.css("top",b.top+30).css("left",b.left)},this.focus=function(){c.focus()},this.loadValue=function(a){d=a[b.column.field],c.val(d),c[0].defaultValue=d,c.select()},this.serializeValue=function(){return c.val()},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return(c.val()!=""||d!=null)&&c.val()!=d},this.validate=function(){return{valid:!0,msg:null}},this.init()},YesNoSelectCellEditor:function(b){var c,d,e=this;this.init=function(){c=a("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),c.appendTo(b.container),c.focus()},this.destroy=function(){c.remove()},this.focus=function(){c.focus()},this.loadValue=function(a){c.val((d=a[b.column.field])?"yes":"no"),c.select()},this.serializeValue=function(){return c.val()=="yes"},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return c.val()!=d},this.validate=function(){return{valid:!0,msg:null}},this.init()},YesNoCheckboxCellEditor:function(b){var c,d,e=this;this.init=function(){c=a("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),c.appendTo(b.container),c.focus()},this.destroy=function(){c.remove()},this.focus=function(){c.focus()},this.loadValue=function(a){d=a[b.column.field],d?c.attr("checked","checked"):c.removeAttr("checked")},this.serializeValue=function(){return c.attr("checked")},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return c.attr("checked")!=d},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentCompleteCellEditor:function(b){var c,d,e,f=this;this.init=function(){c=a("<INPUT type=text class='editor-percentcomplete' />"),c.width(a(b.container).innerWidth()-25),c.appendTo(b.container),d=a("<div class='editor-percentcomplete-picker' />").appendTo(b.container),d.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),d.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),c.focus().select(),d.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:e,slide:function(a,b){c.val(b.value)}}),d.find(".editor-percentcomplete-buttons button").bind("click",function(b){c.val(a(this).attr("val")),d.find(".editor-percentcomplete-slider").slider("value",a(this).attr("val"))})},this.destroy=function(){c.remove(),d.remove()},this.focus=function(){c.focus()},this.loadValue=function(a){c.val(e=a[b.column.field]),c.select()},this.serializeValue=function(){return parseInt(c.val(),10)||0},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return(c.val()!=""||e!=null)&&(parseInt(c.val(),10)||0)!=e},this.validate=function(){return isNaN(parseInt(c.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},StarCellEditor:function(b){function c(a){if(a.type=="keydown"&&a.which!=32)return;return d.css("opacity")=="1"?d.css("opacity",.5):d.css("opacity",1),a.preventDefault(),a.stopPropagation(),!1}var d,e,f=this;this.init=function(){d=a("<IMG src='../images/bullet_star.png' align=absmiddle tabIndex=0 title='Click or press Space to toggle' />").bind("click keydown",c).appendTo(b.container).focus()},this.destroy=function(){d.unbind("click keydown",c),d.remove()},this.focus=function(){d.focus()},this.loadValue=function(a){e=a[b.column.field],d.css("opacity",e?1:.2)},this.serializeValue=function(){return d.css("opacity")=="1"},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return e!=(d.css("opacity")=="1")},this.validate=function(){return{valid:!0,msg:null}},this.init()},LongTextCellEditor:function(b){var c,d,e,f=this;this.init=function(){var e=a("body");d=a("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(e),c=a("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(d),a("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(d),d.find("button:first").bind("click",this.save),d.find("button:last").bind("click",this.cancel),c.bind("keydown",this.handleKeyDown),f.position(b.position),c.focus().select()},this.handleKeyDown=function(b){b.which==a.ui.keyCode.ENTER&&b.ctrlKey?f.save():b.which==a.ui.keyCode.ESCAPE?(b.preventDefault(),f.cancel()):b.which==a.ui.keyCode.TAB&&b.shiftKey?(b.preventDefault(),grid.navigatePrev()):b.which==a.ui.keyCode.TAB&&(b.preventDefault(),grid.navigateNext())},this.save=function(){b.commitChanges()},this.cancel=function(){c.val(e),b.cancelChanges()},this.hide=function(){d.hide()},this.show=function(){d.show()},this.position=function(a){d.css("top",a.top-5).css("left",a.left-5)},this.destroy=function(){d.remove()},this.focus=function(){c.focus()},this.loadValue=function(a){c.val(e=a[b.column.field]),c.select()},this.serializeValue=function(){return c.val()},this.applyValue=function(a,c){a[b.column.field]=c},this.isValueChanged=function(){return(c.val()!=""||e!=null)&&c.val()!=e},this.validate=function(){return{valid:!0,msg:null}},this.init()}};a.extend(window,b)}(jQuery),define("vendor/slickgrid/slick.editors",function(){}),define("use!vendor/slickgrid/slick.editors",["use!vendor/slickgrid/slick.core"],function(){return window.Slick}),function(a){function b(b){function c(c){u=a.extend(!0,{},v,b),p=c,s.subscribe(p.onActiveCellChanged,e(m)),s.subscribe(p.onKeyDown,e(n)),s.subscribe(p.onClick,e(o))}function d(){s.unsubscribeAll()}function e(a){return function(){t||(t=!0,a.apply(this,arguments),t=!1)}}function f(a){var b=[];for(var c=0;c<a.length;c++)for(var d=a[c].fromRow;d<=a[c].toRow;d++)b.push(d);return b}function g(a){var b=[],c=p.getColumns().length-1;for(var d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function h(a,b){var c,d=[];for(c=a;c<=b;c++)d.push(c);for(c=b;c<a;c++)d.push(c);return d}function i(){return f(q)}function j(a){k(g(a))}function k(a){q=a,r.onSelectedRangesChanged.notify(q)}function l(){return q}function m(a,b){u.selectActiveRow&&k([new Slick.Range(b.row,0,b.row,p.getColumns().length-1)])}function n(a){var b=p.getActiveCell();if(b&&a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&(a.which==38||a.which==40)){var c=i();c.sort(function(a,b){return a-b}),c.length||(c=[b.row]);var d=c[0],e=c[c.length-1],f;a.which==40?f=b.row<e||d==e?++e:++d:f=b.row<e?--e:--d,f>=0&&f<p.getDataLength()&&(p.scrollRowIntoView(f),q=g(h(d,e)),k(q)),a.preventDefault(),a.stopPropagation()}}function o(b){var c=p.getCellFromEvent(b);if(!c||!p.canCellBeActive(c.row,c.cell))return!1;var d=f(q),e=a.inArray(c.row,d);if(!b.ctrlKey&&!b.shiftKey&&!b.metaKey)return!1;if(p.getOptions().multiSelect)if(e===-1&&(b.ctrlKey||b.metaKey))d.push(c.row),p.setActiveCell(c.row,c.cell);else if(e!==-1&&(b.ctrlKey||b.metaKey))d=a.grep(d,function(a,b){return a!==c.row}),p.setActiveCell(c.row,c.cell);else if(d.length&&b.shiftKey){var h=d.pop(),i=Math.min(c.row,h),j=Math.max(c.row,h);d=[];for(var l=i;l<=j;l++)l!==h&&d.push(l);d.push(h),p.setActiveCell(c.row,c.cell)}return q=g(d),k(q),b.stopImmediatePropagation(),!0}var p,q=[],r=this,s=new Slick.EventHandler,t,u,v={selectActiveRow:!0};a.extend(this,{getSelectedRows:i,setSelectedRows:j,getSelectedRanges:l,setSelectedRanges:k,init:c,destroy:d,onSelectedRangesChanged:new Slick.Event})}a.extend(!0,window,{Slick:{RowSelectionModel:b}})}(jQuery),define("vendor/slickgrid/plugins/slick.rowselectionmodel",function(){}),define("use!vendor/slickgrid/plugins/slick.rowselectionmodel",["use!vendor/slickgrid/slick.core"],function(){return window.Slick}),define("vendor/slickgrid",["use!vendor/slickgrid/slick.grid","use!vendor/slickgrid/slick.editors","use!vendor/slickgrid/plugins/slick.rowselectionmodel"],function(a){return a}),function(){require(["vendor/slickgrid"])}.call(this),define("compiled/bundles/slickgrid",function(){})