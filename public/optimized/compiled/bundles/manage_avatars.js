define("translations/manage_avatars",["i18nObj","jquery"],function(a,b){b.extend(!0,a,{translations:{es:{manage_avatars:{errors:{update_failed:"Actualización falló, intente de nuevo"},messages:{updating:"Actualizando..."},prompts:{delete_avatar:"¿Seguro que quiere borrar la imagen de perfil de este usuario?",lock_avatar:"Bloquear esta imagen la aprobará y ayudará a prevenir que el usuario la actualice. ¿Desea continuar?"}}}}})}),define("manage_avatars",["i18n!manage_avatars","jquery","jquery.ajaxJSON","jquery.instructure_misc_plugins"],function(a,b){b(document).ready(function(){b(".update_avatar_link").live("click",function(c){c.preventDefault();var d=b(this);if(d.attr("data-state")=="none"){var e=confirm(a.t("prompts.delete_avatar","Are you sure you want to delete this user's profile pic?"));if(!e)return}else if(d.attr("data-state")=="locked"){var e=confirm(a.t("prompts.lock_avatar","Locking this picture will approve it and prevent the user from updating it.  Continue?"));if(!e)return}var f=d.parents("td"),g=f.find(".user_avatar_url").attr("href");f.find(".progress").text(a.t("messages.updating","Updating...")).css("visibility","visible"),b.ajaxJSON(g,"PUT",{"avatar[state]":d.attr("data-state")},function(a){f.find(".lock_avatar_link").showIf(a.avatar_state!="locked").end().find(".unlock_avatar_link").showIf(a.avatar_state=="locked").end().find(".reject_avatar_link").showIf(a.avatar_state!="none").end().find(".approve_avatar_link").hide(),a.avatar_state=="none"&&f.parents("tr").find(".avatar img").attr("src","/images/dotted_pic.png"),f.parents("tr").attr("class",a.avatar_state),f.find(".progress").css("visibility","hidden")},function(b){f.find(".progress").text(a.t("errors.update_failed","Update failed, please try again")).css("visibility","visible")})})})}),function(){require(["manage_avatars"])}.call(this),define("compiled/bundles/manage_avatars",function(){})