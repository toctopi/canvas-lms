(function(){define(["i18n!rubrics","jquery","jqueryui/dialog","vendor/jquery.ba-tinypubsub"],function(a,b){var c;return c={initTriggers:function(){var a;if(a=b(".rubric_dialog_trigger"))return this.noRubricExists=a.data("noRubricExists"),this.url=a.data("url"),a.click(function(a){return a.preventDefault(),c.openDialog()})},initDialog:function(){return this.dialogInited=!0,this.$dialog=b("<div><h4>"+a.t("loading","Loading...")+"</h4></div>").dialog({title:a.t("titles.assignment_rubric_details","Assignment Rubric Details"),width:600,modal:!1,resizable:!0,autoOpen:!1}),b.get(this.url,function(a){c.$dialog.html(b(a).show());if(c.noRubricExists)return b.subscribe("edit_rubric/initted",function(){return c.$dialog.find(".button.add_rubric_link").click()})})},openDialog:function(){return this.dialogInited||this.initDialog(),this.$dialog.dialog("open")}}})}).call(this)