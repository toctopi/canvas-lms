(function(){var a=[].slice;define(["underscore"],function(b){return{cache:{prefix:"",store:{},use:function(a){return this.store=function(){switch(a){case"memory":return{};case"sessionStorage":return sessionStorage;case"localStorage":return localStorage}}()},toKey:function(){var c,d;return d=1>arguments.length?[]:a.call(arguments,0),this.prefix+function(){var a,e,f,g;f=b.flatten(d),g=[];for(a=0,e=f.length;a<e;a++)c=f[a],g.push(JSON.stringify(c));return g}().join("|")},get:function(){var b,c;return b=1>arguments.length?[]:a.call(arguments,0),(c=this.store[this.toKey(b)])?JSON.parse(c):null},set:function(){var b,c,d;return b=2>arguments.length?(d=0,[]):a.call(arguments,0,d=arguments.length-1),c=arguments[d++],this.store[this.toKey(b)]=JSON.stringify(c),this},remove:function(){var b;return b=1>arguments.length?[]:a.call(arguments,0),delete this.store[this.toKey(b)]}}}})}).call(this)